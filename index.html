<!DOCTYPE html>

<html>
<head>
    <title>AudioContext</title>
</head>

<body>
<form>
    <fieldset id='filter1'>
        <legend>Filter 1</legend>
        <input type='range' min='50' max='20000' id='filter1frequency'>
        <input type='number' min='0.0001' max='1000' id='filter1Q'>
        <input type='range' min='-40' max='40' id='filter1Gain'>
        <select id='filter1Type'>
            <option value='lowpass'>Low Pass</option>
            <option value='bandpass'>Band Pass</option>
            <option value='highpass'>High Pass</option>
            <option value='lowshelf'>Low Shelf</option>
            <option value='highshelf'>High Shelf</option>
            <option value='peaking'>Peaking</option>
            <option value='notch'>Notch</option>
            <option value='allpass'>All Pass</option>
        </select>
    </fieldset>
    <fieldset id='oscillators'>
        <legend>Oscillators</legend>
        <input type='range' min='20' max='20000' id='oscillator1frequency'>
        <input type='range' min='-100' max='100' id='oscillator2Detune'>
        <select id='oscillator1Type'>
            <option value='sine'>Sine</option>
            <option value='square'>Square</option>
            <option value='sawtooth'>Sawtooth</option>
            <option value='triangle'>Triangle</option>
        </select>
        <select id='oscillator2Type'>
            <option value='sine'>Sine</option>
            <option value='square'>Square</option>
            <option value='sawtooth'>Sawtooth</option>
            <option value='triangle'>Triangle</option>
        </select>
    </fieldset>
    <button type='button' id='dualOscillatorsOn'>Start</button>
    <button type='button' id='dualOscillatorsOff'>Stop</button>
</form>
<script src='js/require.js' data-main='js/application'></script>
<script type='text/javascript'>
    document.querySelector('#filter1frequency').addEventListener('change', function(event){
        filter1.frequency.value = event.target.value;
    });
    document.querySelector('#filter1Q').addEventListener('change', function(event){
        filter1.Q.value = event.target.value;
    });
    document.querySelector('#filter1Gain').addEventListener('change', function(event){
        filter1.gain.value = event.target.value;
    });
    document.querySelector('#filter1Type').addEventListener('change', function(event){
        filter1.type = event.target.value;
    });
    document.querySelector('#oscillator1frequency').addEventListener('change', function(event){
        osc1.frequency.value = event.target.value;
        osc2.frequency.value = event.target.value/2;
    });
    document.querySelector('#oscillator2Detune').addEventListener('change', function(event){
        osc2.detune.value = event.target.value;
    });
    document.querySelector('#oscillator1Type').addEventListener('change', function(event){
        osc1.type = event.target.value;
    });
    document.querySelector('#oscillator2Type').addEventListener('change', function(event){
        osc2.type = event.target.value;
    });
    document.querySelector('#filter1Type').addEventListener('change', function(event){
        filter1.type = event.target.value;
    });    
    document.querySelector('#dualOscillatorsOn').addEventListener('click', function(event){
        playOscillators(0);
    });
    document.querySelector('#dualOscillatorsOff').addEventListener('click', function(event){
        osc1.stop(0);
        osc2.stop(0);
    });
    document.querySelector('form').addEventListener('submit', function(event){
        event && event.preventDefault()    
    })
</script>
</body>
</html>
